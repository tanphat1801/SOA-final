{{#if message.error}}
    <div
        class='alert alert-dismissible fade show alert-danger w-50'
        role='alert'
        data-mdb-color='warning'
        id='customxD'
    >
        <i class='fas fa-times-circle me-3'></i>{{message.error}}
        <button
            type='button'
            class='btn-close'
            data-mdb-dismiss='alert'
            aria-label='Close'
        ></button>
    </div>
{{/if}}

{{#if message.success}}
    <div
        class='alert alert-dismissible fade show alert-success w-50'
        role='alert'
        data-mdb-color='warning'
        id='customxD'
    >
        <i class='fas fa-check-circle me-3'></i>{{message.success}}
        <button
            type='button'
            class='btn-close'
            data-mdb-dismiss='alert'
            aria-label='Close'
        ></button>
    </div>
{{/if}}
<h2 class='mb-3'>Danh sách môn học</h2>
<section class='p-4 shadow rounded'>
    <a 
        href="#"
        class='btn btn-success'
        data-mdb-toggle='modal'
		data-mdb-target='#createModal'
    >Thêm môn học</a>
    <hr>
    <table id='table_id' class='display'>
        <thead>
            <tr>
                <th>Tên</th>
                <th>Tiết đôi</th>
                <th>Thao tác</th>
            </tr>
        </thead>
        <tbody>
            {{#each subjects}}
            <tr>
                <td>{{name}}</td>
                <td>{{isDouble}}</td>
                <td>
                    <form action="subject/delete" method="post">
                        <input type="hidden" name="id" value="{{_id}}">
                        <button type="submit"
                            class="btn btn-danger"
                        >
                        Xoá
                        </button>
                    </form>
                </td>
            </tr>
            {{/each}}
        </tbody
    </table>
</section>

<!-- Modal -->
<div
	class='modal fade'
	id='createModal'
	tabindex='-1'
	aria-labelledby='exampleModalLabel'
	aria-hidden='true'
>
	<div class='modal-dialog'>
		<div class='modal-content'>
			<div class='modal-header'>
				<h5 class='modal-title' id='exampleModalLabel'>Thêm môn học</h5>
				<button
					type='button'
					class='btn-close'
					data-mdb-dismiss='modal'
					aria-label='Close'
				></button>
			</div>
			<form method='post' action='subject/create' class='mb-0'>
				<div class='modal-body'>
					<div class='form-outline mb-4'>
						<input type='text' name='name' class='form-control' required />
						<label class='form-label' for='desc'>Tên<span class='text-danger'> *</span></label>
					</div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="isDouble" value="true" id="flexCheckDefault" />
                        <label class="form-check-label" for="flexCheckDefault">Cho phép tiết đôi</label>
                    </div>
				</div>
				<div class='modal-footer'>
					<button
						type='button'
						class='btn btn-secondary'
						data-mdb-dismiss='modal'
					>Đóng</button>
					<button type='submit' class='btn btn-primary'>Thêm</button>
				</div>
			</form>
		</div>
	</div>
</div>

<script>
    $(document).ready( function () { $('#table_id').DataTable(); } );
</script>